n = 4;
m = 4;
allowed =
[| 1, 2
 | 1, 3
 | 2, 1
 | 2, 3
 | 3, 1
 | 3, 2
|];
edge_list = 
[| 1, 2
 | 2, 3
 | 3, 4
 | 4, 1
 |];
